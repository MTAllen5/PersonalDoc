(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a8df384"],{"655d":function(t,a,e){"use strict";var s=e("cae6"),i=e.n(s);i.a},"79cc":function(t,a,e){},b6ec:function(t,a,e){"use strict";var s=e("79cc"),i=e.n(s);i.a},c065:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"platform-console"},[e("today-data",{attrs:{gutter:t.gutter,data:t.todayData}}),e("el-row",{attrs:{gutter:t.gutter}},[e("el-col",{attrs:{span:24}},[e("el-new-card",[e("template",{slot:"header"},[t._v("平台积分账户当前额度概览")]),e("amount-acct",{attrs:{data:t.amountData,hasLine:!1}})],2)],1)],1),e("el-new-card",[e("el-form",{staticClass:"condition-bar",attrs:{inline:"",model:t.searchForm,size:"small"}},[e("el-form-item",[e("el-select",{attrs:{placeholder:"积分账户名称"},model:{value:t.searchForm.account,callback:function(a){t.$set(t.searchForm,"account",a)},expression:"searchForm.account"}},[e("el-option",{attrs:{label:"全部",value:""}})],1)],1),e("el-form-item",[e("el-select",{attrs:{placeholder:"认证状态"},model:{value:t.searchForm.verifiSts,callback:function(a){t.$set(t.searchForm,"verifiSts",a)},expression:"searchForm.verifiSts"}},[e("el-option",{attrs:{label:"全部",value:""}}),e("el-option",{attrs:{label:"已认证",value:1}}),e("el-option",{attrs:{label:"未认证",value:2}})],1)],1),e("el-form-item",[e("date-range",{model:{value:t.dateRange,callback:function(a){t.dateRange=a},expression:"dateRange"}})],1),e("el-form-item",[e("el-button",{staticStyle:{"min-width":"75px"},attrs:{plain:"",type:"primary",loading:t.isChartsLoading},on:{click:t.searchData}},[t._v("查询")])],1)],1)],1),t.pointsData.pointsIssued?e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",{attrs:{label:"积分发行/使用情况统计",lazy:""}},[e("div",{staticClass:"charts-header"},[t._v(t._s(t.fmtCDateRange)),e("el-link",{attrs:{underline:!1,icon:"el-icon-download"}})],1),e("div",{staticClass:"charts-box"},[e("chart-points-issued",{attrs:{datas:t.pointsData.pointsIssued}},[t._v("统计平台内，当前筛选条件下已发行积分的数量分布情况，占比统计不包含已过期")]),e("el-divider"),e("chart-points-usage",{attrs:{datas:t.pointsData.pointsUsage}},[t._v("统计平台内，当前筛选条件下已发行积分在未使用、已核销、已回收三种状态下的分布情况，不包含已过")]),e("el-divider"),e("chart-points-unused",{attrs:{datas:t.pointsData.pointsUnused}},[t._v("统计平台内，当前筛选条件下，未使用积分在各积分账户的分布情况")]),e("el-divider"),e("chart-points-verified",{attrs:{datas:t.pointsData.pointsVerified}},[t._v("统计平台内，当前筛选条件下，已核销积分在各积分账户的分布情况")]),e("el-divider"),e("chart-points-recyled",{attrs:{datas:t.pointsData.pointsRecyled}},[t._v("统计平台内，当前筛选条件下，已回收积分在各积分账户的分布情")]),e("el-divider"),e("chart-points-chain",{attrs:{datas:t.pointsData.pointsChain}},[t._v("统计平台内，当前筛选条件下的已发行、未使用、已核销、已回收的环比统计情况")]),e("el-divider"),e("chart-points-growth-rate",{attrs:{datas:t.pointsData.pointsGrowthRate}},[t._v("统计平台内，当前筛选条件下的已发行、未使用、已核销、已回收的增长率")]),e("el-divider"),e("chart-points-verified-src",{attrs:{datas:t.pointsData.pointsVerifiedSrc}},[t._v("统计平台内，已核销积分在各部门的分布情况")]),e("el-divider"),e("chart-points-recyled-src",{attrs:{datas:t.pointsData.pointsRecyledSrc}},[t._v("统计平台内，已回收积分在各部门的分布情况")])],1)]),e("el-tab-pane",{attrs:{label:"业务归属统计",lazy:""}},[e("div",{staticClass:"charts-header"},[t._v(t._s(t.fmtCDateRange)),e("el-link",{attrs:{underline:!1,icon:"el-icon-download"}})],1),e("div",{staticClass:"charts-box"},[e("chart-bus-chain",{attrs:{datas:t.bussinessData.busChain}},[t._v("统计平台内，当前筛选条件下的已发行、未使用、已核销、已回收积分的业务归属环比情况")]),e("el-divider"),e("chart-bus-growth-rate",{attrs:{datas:t.bussinessData.busGrowthRate}},[t._v("统计平台内，当前筛选条件下已发行、未使用、已核销、已回收积分的业务归属环比增长率")])],1)]),e("el-tab-pane",{attrs:{label:"活动效果统计",lazy:""}},[e("div",{staticClass:"charts-header"},[t._v(t._s(t.fmtCDateRange)),e("el-link",{attrs:{underline:!1,icon:"el-icon-download"}})],1),e("div",{staticClass:"charts-box"},[e("chart-part-user",{attrs:{datas:t.activityEffectData.partUser}},[t._v("统计平台内，当前筛选条件下所有积分账户的参与用户数统计")]),e("el-divider"),e("chart-part-user-chain",{attrs:{datas:t.activityEffectData.partUserChain}},[t._v("统计平台内，当前筛选条件下所有活动参与用户数的环比与增长率")]),e("el-divider"),e("chart-part-times",{attrs:{datas:t.activityEffectData.partTimes}},[t._v("统计平台内，当前筛选条件下所有积分账户的用户参与次数统计")]),e("el-divider"),e("chart-part-times-chain",{attrs:{datas:t.activityEffectData.partTimesChain}},[t._v("统计平台内，当前筛选条件下所有积分账户的用户参与次数的环比与增长率")])],1)]),e("el-tab-pane",{attrs:{label:"活动类型/状态统计",lazy:""}},[e("div",{staticClass:"charts-header"},[t._v(t._s(t.fmtCDateRange)),e("el-link",{attrs:{underline:!1,icon:"el-icon-download"}})],1),e("div",{staticClass:"charts-box"},[e("chart-act-mode",{attrs:{datas:t.activityTypeData.actMode}},[t._v("统计平台内，当前筛选条件下所有活动的模式分布情况")]),e("el-divider"),e("chart-act-bus",{attrs:{datas:t.activityTypeData.actBus}},[t._v("统计平台内，当前筛选条件下所有活动的业务归属分布情况")]),e("el-divider"),e("chart-act-type",{attrs:{datas:t.activityTypeData.actType}},[t._v("统计平台内，当前筛选条件下所有活动的类型分布情况")]),e("el-divider"),e("chart-act-status",{attrs:{datas:t.activityTypeData.actStatus}},[t._v("统计平台内，当前筛选条件下所有活动的类型分布情况")])],1)]),e("el-tab-pane",{attrs:{label:"结算统计",lazy:""}},[e("div",{staticClass:"charts-header"},[t._v(t._s(t.fmtCDateRange)),e("el-link",{attrs:{underline:!1,icon:"el-icon-download"}})],1),e("div",{staticClass:"charts-box"},[e("chart-stmt-overview",{attrs:{datas:t.settlementData.overview}},[t._v("统计在当前筛选条件下所有已发行的积分，已核销部分在各结算状态下的分布情况")]),e("el-divider"),e("chart-stmt-sts-rec",{attrs:{datas:t.settlementData.stsRec}},[t._v("统计在当前筛选条件下所有已发行的积分，已核销应收部分在各结算状态下的分布情况")]),e("el-divider"),e("chart-stmt-sts-pay",{attrs:{datas:t.settlementData.stsPay}},[t._v("统计在当前筛选条件下所有已发行的积分，已核销应付部分在各结算状态下的分布情况")]),e("el-divider"),e("chart-stmt-dept-rec",{attrs:{datas:t.settlementData.deptRec}},[t._v("统计在当前筛选条件下所有已发行的积分，已核销应收部分在各部门下的分布情况")]),e("el-divider"),e("chart-stmt-dept-pay",{attrs:{datas:t.settlementData.deptPay}},[t._v("统计在当前筛选条件下所有已发行的积分，已核销应付部分在各部门下的分布情况")]),e("el-divider"),e("chart-stmt-records",{attrs:{search:t.searchForm}})],1)]),e("el-tab-pane",{attrs:{label:"商品统计",lazy:""}},[e("div",{staticClass:"charts-header"},[t._v(t._s(t.fmtCDateRange)),e("el-link",{attrs:{underline:!1,icon:"el-icon-download"}})],1),e("div",{staticClass:"charts-box"},[e("chart-goods",{attrs:{datas:t.goodsData.goods}},[t._v("统计平台内，当前筛选条件下已发行的积分兑换各部门商品的分布情况")]),e("el-divider"),e("chart-goods-chain",{attrs:{datas:t.goodsData.goodsChain}},[t._v("统计平台内，当前筛选条件下已发行的积分兑换各部门商品的环比情况")]),e("el-divider"),e("chart-goods-verified-source",{attrs:{datas:t.goodsData.verifiedSource}},[t._v("统计平台内，当前筛选条件下单一商品或全部商品由哪些部门发行的积分组成")])],1)])],1):t._e()],1)},i=[],n=(e("d3b7"),e("3ca3"),e("ddb0"),e("5530")),r=e("b1f8"),d=e("ba46"),o=e("d233"),l=e("9db7"),c=e("1ff6"),u=e("c1df"),h=e.n(u),v=e("2f62"),m={name:"platform-console",mixins:[c["a"]],components:{ElNewCard:r["a"],TodayData:d["a"],AmountAcct:o["a"],DateRange:l["a"]},data:function(){return{gutter:40,amountData:{},toDo:[],todayData:[],actList:[],searchForm:{account:null,verifiSts:null},dateRange:[],isLoading:!1,isChartsLoading:!1,fmtCDateRange:""}},watch:{dateRange:function(t){this.searchForm.startTime=t[0],this.searchForm.endTime=t[1]},isChartsLoading:function(t){if(!t){var a=this.dateRange[0]?h()(this.dateRange[0]).format("YYYY年MM月DD日 HH时mm分"):"",e=h()(this.dateRange[1]?this.dateRange[1]:h()()).format("YYYY年MM月DD日 HH时mm分");this.fmtCDateRange=a+" 至 "+e}}},created:function(){this.getData()},methods:Object(n["a"])({},Object(v["c"])(["setAcctList"]),{getData:function(){var t=this;this.isLoading=!0,Promise.all([this.$http.serviceGetPlatConsole()]).then((function(a){t.amountData=a[0].amountData,t.todayData=a[0].todayData})).finally((function(){t.isLoading=!1}))},searchData:function(){var t=this;this.isChartsLoading=!0,this.$http.serviceChartsData(this.searchForm).then((function(a){t.pointsData=a.pointsData,t.bussinessData=a.bussinessData,t.activityEffectData=a.activityEffectData,t.activityTypeData=a.activityTypeData,t.settlementData=a.settlementData,t.goodsData=a.goodsData})).finally((function(){t.isChartsLoading=!1}))}})},p=m,f=(e("b6ec"),e("2877")),b=Object(f["a"])(p,s,i,!1,null,"a2a4360e",null);a["default"]=b.exports},cae6:function(t,a,e){},d233:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"amount-container"},[e("div",{staticClass:"amount-inner"},[e("ul",{staticClass:"amount-datas",class:{hasLine:t.hasLine}},[e("li",[e("label",[t._v("当前额度")]),e("span",[t._v(t._s(t._f("fmtMoney")(t.data.totalAmount)))])]),e("li",[e("label",[t._v("已用额度")]),e("span",[t._v(t._s(t._f("fmtMoney")(t.data.usedAmount)))])]),e("li",[e("label",[t._v("可用额度")]),e("span",[t._v(t._s(t._f("fmtMoney")(t.data.availableAmount)))])]),t.hasLine?e("li",[e("label",[t._v("预算额度警戒线")]),e("span",[t._v(t._s(t._f("fmtFloat2Percent")(t.data.budgetAmountLine)))])]):t._e(),e("li",[e("label",[t._v("预算额度")]),e("span",[t._v(t._s(t._f("fmtMoney")(t.data.budgetAmount)))])]),e("li",[e("label",[t._v("备用额度")]),e("span",[t._v(t._s(t._f("fmtMoney")(t.data.imprestAmount)))])]),e("li",[e("label",[t._v("已发行积分")]),e("span",[t._v(t._s(t._f("fmtMoney")(t.data.issued)))])]),t.hasLine?e("li",[e("label",[t._v("备用额度警戒线")]),e("span",[t._v(t._s(t._f("fmtFloat2Percent")(t.data.imprestAmountLine)))])]):t._e()]),e("div",{staticClass:"amount-chart"},[e("div",{staticClass:"amount-budget",style:{width:t.budgetWidth},attrs:{title:t.budgetTips}},[e("label",[t._v("预算额度")]),t.hasLine&&t.data.budgetAmountLine?e("div",{staticClass:"budget-line",style:{left:t.budgetLinePos}}):t._e()]),e("div",{staticClass:"amount-imprest",style:{width:t.imprestWidth},attrs:{title:t.imprestTips}},[e("label",[t._v("备用额度")]),t.hasLine&&t.data.imprestAmountLine?e("div",{staticClass:"imprest-line",style:{left:t.imprestLinePos}}):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:"-"!==t.usedWidth,expression:"usedWidth !== '-'"}],staticClass:"budget-used",style:{width:t.usedWidth}},[e("span",[t._v("已用额度："),e("strong",[t._v(t._s(t.usedWidth))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"-"!==t.issuedWidth,expression:"issuedWidth !== '-'"}],staticClass:"budget-issued",style:{width:t.issuedWidth}},[e("span",[t._v("已发行："),e("strong",[t._v(t._s(t.issuedWidth))])])])])])])])},i=[],n=e("8975"),r={name:"amount-acct",props:{data:{type:Object,required:!0},hasLine:{type:Boolean,default:!0}},computed:{budgetWidth:function(){var t=Object(n["a"])(this.data.budgetAmount/(this.data.budgetAmount+this.data.imprestAmount));return"-"===t?"50%":t},imprestWidth:function(){return 100-parseFloat(this.budgetWidth)+"%"},budgetLinePos:function(){return Object(n["a"])(this.data.budgetAmountLine)},imprestLinePos:function(){return Object(n["a"])(this.data.imprestAmountLine)},usedWidth:function(){return Object(n["a"])(this.data.usedAmount/(this.data.budgetAmount+this.data.imprestAmount))},issuedWidth:function(){return Object(n["a"])(this.data.issued/this.data.usedAmount)},budgetTips:function(){return"预算费用（元）："+Object(n["b"])(this.data.budget)},imprestTips:function(){return"备用金（元）："+Object(n["b"])(this.data.imprest)}}},d=r,o=(e("655d"),e("2877")),l=Object(o["a"])(d,s,i,!1,null,"bff7fb10",null);a["a"]=l.exports}}]);
//# sourceMappingURL=chunk-8a8df384.0c681dd8.js.map