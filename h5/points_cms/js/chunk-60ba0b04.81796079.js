(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60ba0b04"],{"059a":function(t,n,i){},1313:function(t,n,i){"use strict";var e=i("059a"),o=i.n(e);o.a},"2a1f":function(t,n,i){"use strict";var e=i("4869"),o=i.n(e);o.a},3355:function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"info-item",class:{isBlock:t.block}},[i("label",[t._v(t._s(t.label))]),i("span",[t._t("default")],2)])},o=[],s={name:"info-item",props:{label:String,block:Boolean}},a=s,c=(i("1313"),i("2877")),l=Object(c["a"])(a,e,o,!1,null,"20dab72e",null);n["a"]=l.exports},"3c4e9":function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"option-btns"},[t.isEditor?[i("el-button",{attrs:{size:"small",type:"warning",plain:"",icon:"el-icon-edit"},on:{click:t.onEdit}},[t._v("编辑")]),i("el-button",{attrs:{size:"small",type:"warning",plain:"",icon:"el-icon-circle-close"},on:{click:t.onCancel}},[t._v("取消申请")])]:t._e(),t.isAdmin&&t.isAppling?[i("el-button",{attrs:{size:"small",type:"danger",plain:"",icon:"el-icon-remove-outline",loading:t.onRejectLoading},on:{click:function(n){return t.onVerify("onReject")}}},[t._v("拒绝申请")]),i("el-button",{attrs:{size:"small",type:"success",plain:"",icon:"el-icon-circle-check",loading:t.onPassLoading},on:{click:function(n){return t.onVerify("onPass")}}},[t._v("审批通过")])]:t._e(),"page"===t.type?i("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-back"},on:{click:t.onClose}},[t._v("返回")]):t._e(),"popup"===t.type?i("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-close"},on:{click:t.onClose}},[t._v("关闭")]):t._e()],2)},o=[],s=(i("a9e3"),i("d3b7"),{name:"option-btns",props:{status:String,auth:String,verify:String,aid:[Number,String],type:{type:String,default:"page"}},data:function(){return{cancleLoading:!1,onRejectLoading:!1,onPassLoading:!1}},computed:{isAppling:function(){return"isAppling"===this.status},isAdmin:function(){return"isAdmin"===this.auth},isEditor:function(){return"isEditor"===this.auth}},methods:{onEdit:function(){this.$emit("onEdit")},onCancel:function(){var t=this;this.$confirm("是否确认取消该申请？",{type:"warning"}).then((function(){t.$emit("onCancel")}))},onReject:function(){var t=this;this.$confirm("是否确认拒绝该申请？",{type:"error"}).then((function(){t.$emit("onReject")}))},onPass:function(){var t=this;this.$confirm("是否确认通过该申请？",{type:"success"}).then((function(){t.$emit("onPass")}))},onVerify:function(t){var n=this;this[t+"Loading"]=!0,this.$http[this.verify]({id:this.aid}).then((function(i){i.isChanged?n.$alert("该申请已变更，请刷新本页查看最新内容",{type:"warning"}):n[t]()})).finally((function(){n[t+"Loading"]=!1}))},onClose:function(){this.$emit("onClose")}}}),a=s,c=(i("2a1f"),i("2877")),l=Object(c["a"])(a,e,o,!1,null,"1491171e",null);n["a"]=l.exports},4109:function(t,n,i){},4869:function(t,n,i){},"941f":function(t,n,i){"use strict";var e=i("df4c"),o=i.n(e);o.a},a8d6:function(t,n,i){},cfd3:function(t,n,i){"use strict";var e=i("a8d6"),o=i.n(e);o.a},df4c:function(t,n,i){},e688:function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("el-dialog",{staticClass:"popup-use-imprest-detail",attrs:{title:"未发行额度处理申请详情",width:"50%",visible:t.show,"destroy-on-close":""},on:{"update:visible":function(n){t.show=n},closed:t.onClose}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}]},[i("info-block",[i("info-item",{attrs:{label:"活动名称："}},[t._v("活动1")]),i("info-item",{attrs:{label:"类型："}},[t._v("活动返还")]),i("info-item",{attrs:{label:"预算额度："}},[t._v(t._s(t._f("fmtMoney")(1e5)))]),i("info-item",{attrs:{label:"备用额度："}},[t._v(t._s(t._f("fmtMoney")(1e5)))])],1),i("info-block",[i("info-item",{attrs:{label:"申请人："}},[t._v("担当1")]),i("info-item",{attrs:{label:"申请时间："}},[t._v("2020-5-25 12:00")]),i("info-item",{attrs:{label:"编辑人："}},[t._v("担当2")]),i("info-item",{attrs:{label:"编辑时间："}},[t._v("2020-5-25 12:00")]),i("info-item",{attrs:{label:"申请状态："}},[i("appl-sts-icon",{attrs:{status:0}})],1),i("info-item",{attrs:{label:"审批时间："}},[t._v("-")]),i("info-item",{attrs:{label:"备注："}})],1),i("info-block",[i("info-item",{attrs:{label:"附件：",block:""}},[t.info.attachments?i("ul",{staticClass:"attachment-list"},t._l(t.info.attachments,(function(n,e){return i("li",{key:e},[i("span",[t._v(t._s(e+1)+". "+t._s(n.name))]),i("el-link",{attrs:{icon:"el-icon-download"},on:{click:function(i){return t.onDownLoad(n.url)}}},[t._v("下载")])],1)})),0):t._e()])],1),i("el-divider"),i("option-btns",{attrs:{status:t.isAppling,auth:t.optionsAuth,aid:t.info.id,type:"popup",verify:"serviceVerifyAppl"},on:{onEdit:t.toEditAppl,onCancel:t.changeCancel,onReject:t.changeNoPass,onPass:t.changePass,onClose:function(n){t.show=!1}}})],1)])},o=[],s=(i("a9e3"),i("d3b7"),i("5530")),a=i("fb55"),c=i("3355"),l=i("3c4e9"),r=i("fe54"),u=i("2f62"),f={name:"popup-use-imprest-detail",components:{InfoBlock:a["a"],InfoItem:c["a"],OptionBtns:l["a"],ApplStsIcon:r["a"]},model:{prop:"visible",event:"change"},props:{visible:Boolean,sid:[Number,String]},data:function(){return{show:!1,isLoading:!1,info:{}}},computed:Object(s["a"])({},Object(u["b"])({accountInfo:"getAccountInfo"}),{isAppling:function(){return 1===this.info.status||4===this.info.status?"isAppling":""},optionsAuth:function(){return this.accountInfo.isAdmin?this.info.deptId===this.accountInfo.orgId?"isEditor":"":"isAdmin"}}),watch:{visible:function(t){this.show=t,t&&this.getData(this.sid)}},methods:{getData:function(t){var n=this;this.isLoading=!0,this.$http.serviceGetApplDetail({id:t}).then((function(t){n.info=Object(s["a"])({},t)})).finally((function(){n.isLoading=!1}))},toEditAppl:function(){this.$emit("popupEdit",this.sid)},changePass:function(){this.changeApplicationStatus(0)},changeNoPass:function(){this.changeApplicationStatus(2)},changeCancel:function(){this.changeApplicationStatus(3)},changeApplicationStatus:function(t){var n=this;this.isLoading=!0,this.$http.serviceUpdateAcctApplSts({status:t}).then((function(i){n.info.status=t})).finally((function(){n.isLoading=!1}))},onClose:function(){this.$emit("update:visible",this.show)}}},p=f,d=(i("cfd3"),i("2877")),h=Object(d["a"])(p,e,o,!1,null,"bf3c3fb0",null);n["default"]=h.exports},f6bd:function(t,n,i){"use strict";var e=i("4109"),o=i.n(e);o.a},fb55:function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"info-block"},[t._t("default")],2)},o=[],s={name:"info-block"},a=s,c=(i("941f"),i("2877")),l=Object(c["a"])(a,e,o,!1,null,"343a3291",null);n["a"]=l.exports},fe54:function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("span",{staticClass:"sts-icon",class:t._f("fmtStatusColor")(t.status),style:{marginLeft:t.point?"20px":0}},[t.point&&void 0!==t.status?i("i"):t._e(),t._v(t._s(t._f("fmtStatus")(t.status))+" ")])},o=[],s=(i("a9e3"),{0:"已完成",1:"申请中",2:"已编辑",3:"已取消",4:"未通过"}),a={name:"appl-sts-icon",props:{status:[Number,String],point:Boolean},filters:{fmtStatus:function(t){return void 0===t?"":s[t]?s[t]:"未知"},fmtStatusColor:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(s[t]){case"已完成":return"color-green";case"申请中":case"已编辑":return"color-orange";case"已取消":return"color-black";case"未通过":return"color-red";default:return"color-black"}}}},c=a,l=(i("f6bd"),i("2877")),r=Object(l["a"])(c,e,o,!1,null,"07d8ecd8",null);n["a"]=r.exports}}]);
//# sourceMappingURL=chunk-60ba0b04.81796079.js.map