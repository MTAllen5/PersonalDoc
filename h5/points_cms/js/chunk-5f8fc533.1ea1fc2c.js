(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f8fc533","chunk-6e8ec1f9","chunk-5d5fe584"],{"059a":function(e,t,a){},1313:function(e,t,a){"use strict";var l=a("059a"),i=a.n(l);i.a},1973:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"credit-detail"},[a("el-new-card",[a("template",{slot:"header"},[e._v(e._s(e.$route.meta.name))]),a("el-form",{ref:"searchForm",attrs:{inline:"",size:"small",model:e.searchForm}},[a("el-form-item",{attrs:{prop:"plat"}},[a("el-select",{attrs:{placeholder:"选择活动/核销平台"},model:{value:e.searchForm.plat,callback:function(t){e.$set(e.searchForm,"plat",t)},expression:"searchForm.plat"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"活动1",value:2}}),a("el-option",{attrs:{label:"活动2",value:3}}),a("el-option",{attrs:{label:"积分商城",value:4}})],1)],1),a("el-form-item",{attrs:{prop:"behavior"}},[a("el-select",{attrs:{placeholder:"选择用户行为"},model:{value:e.searchForm.behavior,callback:function(t){e.$set(e.searchForm,"behavior",t)},expression:"searchForm.behavior"}},[a("el-option",{attrs:{label:"全部",value:1}}),a("el-option",{attrs:{label:"注册认证",value:2}}),a("el-option",{attrs:{label:"抽奖-一等奖",value:3}}),a("el-option",{attrs:{label:"抽奖-二等奖",value:4}})],1)],1),a("el-form-item",{attrs:{prop:"commodity"}},[a("el-input",{attrs:{placeholder:"输入商品名称"},model:{value:e.searchForm.commodity,callback:function(t){e.$set(e.searchForm,"commodity",t)},expression:"searchForm.commodity"}})],1),a("el-form-item",{attrs:{prop:"user"}},[a("el-input",{attrs:{placeholder:"输入用户名称"},model:{value:e.searchForm.user,callback:function(t){e.$set(e.searchForm,"user",t)},expression:"searchForm.user"}})],1),a("el-form-item",{attrs:{prop:"mode"}},[a("el-select",{attrs:{placeholder:"选择方式"},model:{value:e.searchForm.mode,callback:function(t){e.$set(e.searchForm,"mode",t)},expression:"searchForm.mode"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"自动",value:2}}),a("el-option",{attrs:{label:"手动",value:3}})],1)],1),a("el-form-item",{attrs:{prop:"type"}},[a("el-select",{attrs:{placeholder:"选择类型"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"发行",value:2}}),a("el-option",{attrs:{label:"核销",value:3}}),a("el-option",{attrs:{label:"到期",value:4}})],1)],1),a("el-form-item",{attrs:{prop:"account"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"选择积分组成中包含的账户名称"},model:{value:e.searchForm.account,callback:function(t){e.$set(e.searchForm,"account",t)},expression:"searchForm.account"}},[a("el-option",{attrs:{label:"CF部积分账户",value:1}}),a("el-option",{attrs:{label:"MK部积分账户",value:2}}),a("el-option",{attrs:{label:"MA部积分账户",value:3}})],1)],1),a("el-form-item",{attrs:{prop:"dateRange"}},[a("el-new-date-picker",{model:{value:e.searchForm.dateRange,callback:function(t){e.$set(e.searchForm,"dateRange",t)},expression:"searchForm.dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[e._v("查询")]),a("el-button",{attrs:{plain:"",icon:"el-icon-refresh-right"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],2),a("el-new-card",[a("template",{slot:"header"},[e._v(" 积分列表 "),a("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-upload2"}},[e._v("导出")])],1),a("el-new-table",{ref:"table",attrs:{apiName:e.apiName,data:e.searchForm}},[a("el-table-column",{attrs:{prop:"credits",label:"积分数值",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{style:e._f("creditStatusColor")(t.row.credits)},[e._v(e._s(e._f("creditStatus")(t.row.credits)))])]}}])}),a("el-table-column",{attrs:{prop:"model",label:"方式",align:"center"}}),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"}}),a("el-table-column",{attrs:{prop:"user",label:"用户名称",align:"center","min-width":"120"}}),a("el-table-column",{attrs:{prop:"plat",label:"活动/核销平台",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.plat.includes("活动")?a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.popupActIntro(t.row.aid)}}},[e._v(e._s(t.row.plat))]):a("span",[e._v(e._s(t.row.plat||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"behavior",label:"用户行为",align:"center","min-width":"120"}}),a("el-table-column",{attrs:{prop:"commodity",label:"商品名称",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.commodity||"-"))])]}}])}),a("el-table-column",{attrs:{prop:"account",label:"积分组成",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.popupCredits(t.row.id)}}},[e._v("查看详情")])]}}])}),a("el-table-column",{attrs:{prop:"date",label:"时间",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.date))])]}}])})],1)],2),a("popup-act-intro",{attrs:{visible:e.actIntroVisible,aid:e.selectedAId},on:{"update:visible":function(t){e.actIntroVisible=t}}}),a("popup-credits",{attrs:{visible:e.creditsVisible,rid:e.selectedRId},on:{"update:visible":function(t){e.creditsVisible=t},popupAct:e.popupActIntro}})],1)},i=[],n=(a("a9e3"),a("b1f8")),o=a("c78e"),r=a("f7af"),s=a("89b5"),c=a("9475"),u={name:"credit-detail",components:{ElNewCard:n["a"],ElNewTable:o["a"],ElNewDatePicker:r["a"],PopupActIntro:s["default"],PopupCredits:c["default"]},data:function(){return{apiName:"serviceGetPointsDetail",searchForm:{plat:null,behavior:null,commodity:null,user:null,mode:null,type:null,account:null,dateRange:[]},actIntroVisible:!1,selectedAId:1,creditsVisible:!1,selectedRId:1}},filters:{creditStatus:function(e){var t=Number(e);return isNaN(t)||0===t?e:(t>0?"+":"")+t},creditStatusColor:function(e){var t=Number(e);return isNaN(t)||0===t?"":{color:t>0?"#19be6b":"#ed4014"}}},methods:{onSearch:function(){this.$refs.table.reset()},onReset:function(){this.$refs.searchForm.resetFields()},popupActIntro:function(e){this.selectedAId=e,this.actIntroVisible=!0},popupCredits:function(e){this.selectedRId=e,this.creditsVisible=!0}}},p=u,d=a("2877"),f=Object(d["a"])(p,l,i,!1,null,"2d414416",null);t["default"]=f.exports},"1cbf":function(e,t,a){},"20c0":function(e,t,a){},"334f":function(e,t,a){"use strict";var l=a("38dc"),i=a.n(l);i.a},3355:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-item",class:{isBlock:e.block}},[a("label",[e._v(e._s(e.label))]),a("span",[e._t("default")],2)])},i=[],n={name:"info-item",props:{label:String,block:Boolean}},o=n,r=(a("1313"),a("2877")),s=Object(r["a"])(o,l,i,!1,null,"20dab72e",null);t["a"]=s.exports},"38dc":function(e,t,a){},"4c73":function(e,t,a){},"89b5":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"popup-activity-intro",attrs:{title:"活动简介",visible:e.show,"destroy-on-close":""},on:{"update:visible":function(t){e.show=t},closed:e.onClose}},[a("info-block",[a("info-item",{attrs:{label:"活动名称："}},[e._v("活动1"),a("span",{staticClass:"status-point",staticStyle:{color:"#19be6b"}},[a("i",{staticStyle:{background:"#19be6b"}}),e._v("已开始")])]),a("info-item",{attrs:{label:"所属部门："}},[e._v("CF部")]),a("info-item",{attrs:{label:"积分账户："}},[e._v("CF部积分账户"),a("span",{staticClass:"status-point",staticStyle:{color:"#19be6b"}},[a("i",{staticStyle:{background:"#19be6b"}}),e._v("正常")])]),a("info-item",{attrs:{label:"担当："}},[e._v("担当1")])],1),a("info-block",[a("info-item",{attrs:{label:"业务归属："}},[e._v("客户业务")]),a("info-item",{attrs:{label:"活动模式："}},[e._v("线上")]),a("info-item",{attrs:{label:"活动类型："}},[e._v("常规")]),a("info-item",{attrs:{label:"平台："}},[e._v("App、小程序、H5")]),a("info-item",{attrs:{label:"开始时间："}},[e._v("2019-04-15 12:00")]),a("info-item",{attrs:{label:"结束时间："}},[e._v("2019-04-15 12:00")]),a("info-item",{attrs:{label:"累计活动天数："}},[e._v("28")])],1),a("info-block",[a("info-item",{attrs:{label:"申请人："}},[e._v("担当1")]),a("info-item",{attrs:{label:"申请时间："}},[e._v("2019-04-15 12:00")]),a("info-item",{attrs:{label:"审批时间："}},[e._v("2019-04-15 12:00")])],1),a("info-block",[a("info-item",{attrs:{label:"活动简介："}},[e._v("abc")])],1),a("div",{staticClass:"btns-box"},[a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-reading"},on:{click:function(t){return e.toActDetail(1)}}},[e._v("查看详情")])],1),a("el-divider"),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{size:"small",plain:""},on:{click:function(t){e.show=!1}}},[e._v("关 闭")])],1)],1)},i=[],n=(a("a9e3"),a("fb55")),o=a("3355"),r={name:"popup-activity-intro",model:{prop:"visible",event:"change"},components:{InfoBlock:n["a"],InfoItem:o["a"]},props:{visible:Boolean,aid:[Number,String]},data:function(){return{show:!1,loading:!1}},watch:{visible:function(e){this.show=e}},methods:{onClose:function(){this.$emit("update:visible",this.show)},toActDetail:function(e){this.$router.push({path:"/activityMgmt/actDetail",query:{id:e}})}}},s=r,c=(a("c5d5"),a("2877")),u=Object(c["a"])(s,l,i,!1,null,"31f2f93c",null);t["default"]=u.exports},"941f":function(e,t,a){"use strict";var l=a("df4c"),i=a.n(l);i.a},9475:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"popup-credits",attrs:{title:"积分组成详情",visible:e.show,"destroy-on-close":""},on:{"update:visible":function(t){e.show=t},closed:e.onClose}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("info-block",[a("info-item",{attrs:{label:"用户名称："}},[e._v("用户1")]),a("info-item",{attrs:{label:"积分值："}},[a("span",{staticStyle:{color:"#19be6b"}},[e._v(e._s(e._f("fmtMoney")(-36066)))])]),a("info-item",{attrs:{label:"方式："}},[e._v("自动")]),a("info-item",{attrs:{label:"类型："}},[e._v("担当1")]),a("info-item",{attrs:{label:"活动/核销平台"}},[a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.popupActIntro(1)}}},[e._v("活动2")])],1),a("info-item",{attrs:{label:"用户行为："}},[e._v("商品兑换")]),a("info-item",{attrs:{label:"商品名称："}},[e._v("拖鞋")]),a("info-item",{attrs:{label:"时间："}},[e._v("2019-04-15 12:00")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",size:"mini"}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+1))])]}}])}),a("el-table-column",{attrs:{label:"积分账户名称",prop:"account",align:"center","min-width":"120px"}}),a("el-table-column",{attrs:{label:"活动名称",prop:"activity",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.popupActIntro(t.row.actId)}}},[e._v(e._s(t.row.activity))])]}}])}),a("el-table-column",{attrs:{label:"用户行为",prop:"behevior",align:"center"}}),a("el-table-column",{attrs:{label:"获取时间",prop:"getTime",align:"center","min-width":"150px"}}),a("el-table-column",{attrs:{label:"积分数值",prop:"credits",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#19be6b"}},[e._v(e._s(e._f("creditStatus")(t.row.credits)))])]}}])})],1),a("el-divider"),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{size:"small",plain:""},on:{click:function(t){e.show=!1}}},[e._v("关 闭")])],1)],1)])},i=[],n=(a("a9e3"),a("fb55")),o=a("3355"),r={name:"popup-activity-intro",model:{prop:"visible",event:"change"},components:{InfoBlock:n["a"],InfoItem:o["a"]},props:{visible:Boolean,rid:[Number,String]},data:function(){return{show:!1,loading:!1,list:[{account:"CF部积分账户",actId:1,activity:"活动1",behevior:"注册认证",getTime:"2019-04-15 12:00",credits:100}],selectedAId:1}},watch:{visible:function(e){this.show=e}},filters:{creditStatus:function(e){var t=Number(e);return isNaN(t)||0===t?e:(t>0?"+":"")+t}},methods:{onClose:function(){this.$emit("update:visible",this.show)},popupActIntro:function(e){this.$emit("popupAct",e)}}},s=r,c=(a("334f"),a("2877")),u=Object(c["a"])(s,l,i,!1,null,"57c72b54",null);t["default"]=u.exports},b1f8:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"el-new-card",attrs:{shadow:"never"}},[e.$slots.header?a("div",{staticClass:"el-new-card-header",attrs:{slot:"header"},slot:"header"},[e._t("header")],2):e._e(),a("div",{staticClass:"el-new-card-body"},[e._t("default")],2)])},i=[],n={name:"el-new-card"},o=n,r=(a("ffb4"),a("2877")),s=Object(r["a"])(o,l,i,!1,null,"64b26a91",null);t["a"]=s.exports},c5d5:function(e,t,a){"use strict";var l=a("20c0"),i=a.n(l);i.a},c78e:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-table",class:"table-"+e.size},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",size:e.size}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index",index:e.dataIndex}}),e._t("default")],2),a("div",{staticClass:"pagination-table-pgn"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes","page-sizes":[10,20,50],"page-size":e.pageSize,"current-page":e.pageNum,total:e.total},on:{"size-change":e.onSizeChange,"current-change":e.onCurrentChange}})],1)],1)},i=[],n=(a("a9e3"),a("d3b7"),{name:"pagination-table",props:{apiName:String,data:Object,options:Object,sucFn:Function,errFn:Function,beforeRender:Function,type:{type:String,default:"page"},size:{type:String,default:"medium"}},data:function(){return{tableLoading:!1,list:[],pageNum:1,pageSize:10,total:0}},watch:{$route:function(e,t){e.matched.length<=2&&t.matched.length>2?this.getPageList():this.changePathHash("replace")}},created:function(){var e=this.$route.query;this.pageNum=Number(e.pageNum||1),this.pageSize=Number(e.pageSize||10),this.getPageList(),this.changePathHash("replace")},methods:{getPageList:function(){var e=this;this.tableLoading=!0,this.$http[this.apiName](Object.assign({},{pageNum:this.pageNum,pageSize:this.pageSize},this.data),this.options).then((function(t){e.pageNum=t.pageNum,e.pageSize=t.pageSize,e.total=t.total,e.list=e.beforeRender?e.beforeRender(t.list):t.list,e.sucFn&&e.sucFn(e.list)})).catch((function(t){e.errFn(t)})).finally((function(){e.tableLoading=!1}))},onCurrentChange:function(e){this.pageNum=e,this.getPageList(),this.changePathHash()},onSizeChange:function(e){this.pageSize=e,this.reset()},reset:function(){this.onCurrentChange(1)},changePathHash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"push";if("popup"!==this.type){var t=this.$route.query;this.pageNum===Number(t.pageNum)&&this.pageSize===Number(t.pageSize)||this.$router[e]({path:this.$route.path,query:Object.assign({},this.$route.query,{pageNum:this.pageNum,pageSize:this.pageSize})})}},dataIndex:function(e){return(this.pageNum-1)*this.pageSize+e+1}}}),o=n,r=(a("ec24"),a("2877")),s=Object(r["a"])(o,l,i,!1,null,"5bb51c52",null);t["a"]=s.exports},df4c:function(e,t,a){},ec24:function(e,t,a){"use strict";var l=a("1cbf"),i=a.n(l);i.a},f7af:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-date-picker",{ref:"datePicker",style:{width:e.width},attrs:{type:e.type,"range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期",editable:!1,align:"right","popper-class":e.popperClass,"default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})},i=[],n=a("c1df"),o=a.n(n),r={name:"el-new-date-picker",model:{prop:"value",event:"change"},props:{value:[Date,Array],type:{type:String,default:"daterange"},popperClass:String,width:{type:String,default:"240px"}},data:function(){return{val:null,pickerOptions:{disabledDate:function(e){return e.getTime()>o()().startOf("day").toDate().getTime()-1e3}}}},watch:{value:{handler:function(e){this.val=e},immediate:!0},val:function(e){this.$emit("change",e)}},methods:{focus:function(){this.$refs.datePicker.focus()}}},s=r,c=a("2877"),u=Object(c["a"])(s,l,i,!1,null,"034e15e2",null);t["a"]=u.exports},fb55:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-block"},[e._t("default")],2)},i=[],n={name:"info-block"},o=n,r=(a("941f"),a("2877")),s=Object(r["a"])(o,l,i,!1,null,"343a3291",null);t["a"]=s.exports},ffb4:function(e,t,a){"use strict";var l=a("4c73"),i=a.n(l);i.a}}]);
//# sourceMappingURL=chunk-5f8fc533.1ea1fc2c.js.map