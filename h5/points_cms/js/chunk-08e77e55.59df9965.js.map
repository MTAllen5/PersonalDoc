{"version":3,"sources":["webpack:///./src/views/settlementManagement/LastDetail.vue?9901","webpack:///./src/views/settlementManagement/LastDetail.vue?7ba8","webpack:///src/views/settlementManagement/LastDetail.vue","webpack:///./src/views/settlementManagement/LastDetail.vue?2661","webpack:///./src/views/settlementManagement/LastDetail.vue","webpack:///./src/components/ElNewTable.vue?1080","webpack:///src/components/ElNewTable.vue","webpack:///./src/components/ElNewTable.vue?8146","webpack:///./src/components/ElNewTable.vue","webpack:///./src/components/ElNewTable.vue?6860"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","show","on","$event","onClose","_v","staticStyle","billList","scopedSlots","_u","key","fn","scope","_s","$index","_f","row","points","momey","apiName","style","credits","plat","includes","popupActIntro","aid","commodity","popupCredits","id","date","staticRenderFns","model","prop","event","components","ElNewTable","props","visible","Boolean","data","loading","watch","val","getData","filters","creditStatus","isNaN","v","creditStatusColor","methods","$emit","toActDetail","$router","push","path","query","component","class","size","list","dataIndex","_t","pageSize","pageNum","total","onSizeChange","onCurrentChange","String","Object","options","sucFn","Function","errFn","beforeRender","type","default","tableLoading","$route","matched","length","oldVal","getPageList","changePathHash","created","Number","$http","assign","reset","index"],"mappings":"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","file":"js/chunk-08e77e55.59df9965.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LastDetail.vue?vue&type=style&index=0&id=ae567818&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LastDetail.vue?vue&type=style&index=0&id=ae567818&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"last-detail\",attrs:{\"title\":\"上期异动核减详情\",\"width\":\"80%\",\"visible\":_vm.show,\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.show=$event},\"closed\":_vm.onClose}},[_c('h5',{staticClass:\"sub-title\"},[_vm._v(\"上期异动核减对账单\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.billList,\"size\":\"small\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.$index)+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"payer\",\"label\":\"付款方\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"payee\",\"label\":\"收款方\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"points\",\"label\":\"积分\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"fmtMoney\")(scope.row.points))+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"momey\",\"label\":\"金额（元）\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"fmtMoney\")(scope.row.momey))+\" \")]}}])})],1),_c('el-divider'),_c('h5',{staticClass:\"sub-title\"},[_vm._v(\"上期异动核减明细\")]),_c('el-new-table',{attrs:{\"apiName\":_vm.apiName,\"size\":\"small\",\"type\":\"popup\"}},[_c('el-table-column',{attrs:{\"prop\":\"credits\",\"label\":\"积分数值\",\"align\":\"center\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{style:(_vm._f(\"creditStatusColor\")(scope.row.credits))},[_vm._v(_vm._s(_vm._f(\"creditStatus\")(scope.row.credits)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"model\",\"label\":\"方式\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"user\",\"label\":\"用户名称\",\"align\":\"center\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"plat\",\"label\":\"活动/核销平台\",\"align\":\"center\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.plat.includes('活动'))?_c('el-link',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.popupActIntro(scope.row.aid)}}},[_vm._v(_vm._s(scope.row.plat))]):_c('span',[_vm._v(_vm._s(scope.row.plat || '-'))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"behavior\",\"label\":\"履历名称\",\"align\":\"center\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"commodity\",\"label\":\"商品名称\",\"align\":\"center\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.commodity || '-'))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"account\",\"label\":\"积分组成\",\"align\":\"center\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.popupCredits(scope.row.id)}}},[_vm._v(\"查看详情\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"时间\",\"align\":\"center\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"fmtDateTime\")(scope.row.date)))])]}}])})],1),_c('el-divider'),_c('div',{staticClass:\"dialog-footer\"},[_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\"},on:{\"click\":function($event){_vm.show = false}}},[_vm._v(\"关 闭\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    class=\"last-detail\"\n    title=\"上期异动核减详情\"\n    width=\"80%\"\n    :visible.sync=\"show\"\n    destroy-on-close\n    v-loading=\"loading\"\n    @closed=\"onClose\"\n  >\n    <h5 class=\"sub-title\">上期异动核减对账单</h5>\n    <el-table\n      :data=\"billList\"\n      size=\"small\"\n      stripe\n      style=\"width: 100%\">\n      <el-table-column label=\"序号\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.$index }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"payer\" label=\"付款方\" align=\"center\"></el-table-column>\n      <el-table-column prop=\"payee\" label=\"收款方\" align=\"center\"></el-table-column>\n      <el-table-column prop=\"points\" label=\"积分\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.points | fmtMoney }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"momey\" label=\"金额（元）\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.momey | fmtMoney }}\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-divider></el-divider>\n\n    <h5 class=\"sub-title\">上期异动核减明细</h5>\n    <el-new-table :apiName=\"apiName\" size=\"small\" type=\"popup\">\n      <el-table-column prop=\"credits\" label=\"积分数值\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          <span :style=\"scope.row.credits | creditStatusColor\">{{ scope.row.credits | creditStatus }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"model\" label=\"方式\" align=\"center\"></el-table-column>\n      <el-table-column prop=\"type\" label=\"类型\" align=\"center\"></el-table-column>\n      <el-table-column prop=\"user\" label=\"用户名称\" align=\"center\" min-width=\"120\"></el-table-column>\n      <el-table-column prop=\"plat\" label=\"活动/核销平台\" align=\"center\" min-width=\"120\">\n        <template slot-scope=\"scope\">\n          <el-link type=\"primary\" v-if=\"scope.row.plat.includes('活动')\" @click=\"popupActIntro(scope.row.aid)\">{{ scope.row.plat }}</el-link>\n          <span v-else>{{ scope.row.plat || '-' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"behavior\" label=\"履历名称\" align=\"center\" min-width=\"120\"></el-table-column>\n      <el-table-column prop=\"commodity\" label=\"商品名称\" align=\"center\" min-width=\"120\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.commodity || '-' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"account\" label=\"积分组成\" align=\"center\" min-width=\"120\">\n        <template slot-scope=\"scope\">\n          <el-link type=\"primary\" @click=\"popupCredits(scope.row.id)\">查看详情</el-link>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"date\" label=\"时间\" align=\"center\" min-width=\"150\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.date | fmtDateTime }}</span>\n        </template>\n      </el-table-column>\n    </el-new-table>\n\n    <el-divider></el-divider>\n\n    <div class=\"dialog-footer\">\n      <el-button size=\"small\" plain @click=\"show = false\">关 闭</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport ElNewTable from '@/components/ElNewTable'\n\nexport default {\n  name: 'popup-activity-intro',\n  model: {\n    prop: 'visible',\n    event: 'change'\n  },\n  components: {\n    ElNewTable\n  },\n  props: {\n    visible: Boolean\n  },\n  data () {\n    return {\n      apiName: 'serviceGetLastDetail',\n      show: false,\n      loading: false,\n      billList: [\n        {\n          payer: 'ABC',\n          payee: 'DEF',\n          points: 123456,\n          momey: 100\n        }\n      ]\n    }\n  },\n  watch: {\n    visible (val) {\n      this.show = val\n\n      val && this.getData()\n    }\n  },\n  filters: {\n    creditStatus (val) {\n      const v = Number(val)\n      if (isNaN(v) || v === 0) return val\n\n      return (v > 0 ? '+' : '') + v\n    },\n\n    creditStatusColor (val) {\n      const v = Number(val)\n      if (isNaN(v) || v === 0) return ''\n\n      return { color: v > 0 ? '#19be6b' : '#ed4014' }\n    }\n  },\n  methods: {\n    getData () {\n\n    },\n\n    onClose () {\n      this.$emit('update:visible', this.show)\n    },\n\n    toActDetail (id) {\n      this.$router.push({\n        path: '/activityMgmt/actDetail',\n        query: {\n          id\n        }\n      })\n    },\n\n    popupActIntro (id) {\n      this.$emit('popupAct', id)\n    },\n\n    popupCredits (id) {\n      this.$emit('popupCredits', id)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.last-detail {\n  .sub-title {\n    margin-top: 4px;\n    margin-bottom: 20px;\n    font-size: 13px;\n\n    &:not(:first-child) {\n      margin-top: 24px;\n    }\n  }\n\n  .dialog-footer {\n    text-align: center;\n\n    .el-button {\n      min-width: 100px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LastDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LastDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LastDetail.vue?vue&type=template&id=ae567818&scoped=true&\"\nimport script from \"./LastDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./LastDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LastDetail.vue?vue&type=style&index=0&id=ae567818&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ae567818\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagination-table\",class:'table-' + _vm.size},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"stripe\":\"\",\"size\":_vm.size}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"align\":\"center\",\"type\":\"index\",\"index\":_vm.dataIndex}}),_vm._t(\"default\")],2),_c('div',{staticClass:\"pagination-table-pgn\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next, sizes\",\"page-sizes\":[10,20,50],\"page-size\":_vm.pageSize,\"current-page\":_vm.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.onSizeChange,\"current-change\":_vm.onCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pagination-table\" :class=\"'table-' + size\">\n    <el-table\n      :data=\"list\"\n      stripe\n      :size=\"size\"\n      v-loading=\"tableLoading\"\n      style=\"width: 100%\">\n      <el-table-column label=\"序号\" align=\"center\" type=\"index\" :index=\"dataIndex\"></el-table-column>\n\n      <slot></slot>\n\n    </el-table>\n\n    <div class=\"pagination-table-pgn\">\n      <el-pagination\n        background\n        layout=\"prev, pager, next, sizes\"\n        :page-sizes=\"[10,20,50]\"\n        :page-size=\"pageSize\"\n        :current-page=\"pageNum\"\n        :total=\"total\"\n        @size-change=\"onSizeChange\"\n        @current-change=\"onCurrentChange\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'pagination-table',\n  props: {\n    apiName: String,\n    data: Object,\n    options: Object,\n    sucFn: Function,\n    errFn: Function,\n    beforeRender: Function,\n    type: { // 类型。 可选值：page / popup\n      type: String,\n      default: 'page'\n    },\n    size: {\n      type: String,\n      default: 'medium'\n    }\n  },\n  data () {\n    return {\n      tableLoading: false, // 表格是否加载中\n      list: [], // 表格数据\n      pageNum: 1, // 当前页\n      pageSize: 10, // 每页显示数据行\n      total: 0 // 总数据数\n    }\n  },\n  watch: {\n    // 在第三级菜单完成操作后返回上一页，重新获取数据，以保证数据的更新\n    $route (val, oldVal) {\n      if (val.matched.length <= 2 && oldVal.matched.length > 2) {\n        this.getPageList()\n      } else {\n        this.changePathHash('replace')\n      }\n    }\n  },\n  created () {\n    const query = this.$route.query\n    this.pageNum = Number(query.pageNum || 1)\n    this.pageSize = Number(query.pageSize || 10)\n    this.getPageList()\n    this.changePathHash('replace')\n  },\n  methods: {\n    getPageList () {\n      this.tableLoading = true\n      this.$http[this.apiName](Object.assign({}, {\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      }, this.data), this.options)\n        .then(res => {\n          this.pageNum = res.pageNum\n          this.pageSize = res.pageSize\n          this.total = res.total\n          this.list = this.beforeRender ? this.beforeRender(res.list) : res.list\n          this.sucFn && this.sucFn(this.list)\n        })\n        .catch(error => {\n          this.errFn(error)\n        })\n        .finally(() => {\n          this.tableLoading = false\n        })\n    },\n\n    onCurrentChange (pageNum) {\n      this.pageNum = pageNum\n      this.getPageList()\n      this.changePathHash()\n    },\n\n    onSizeChange (pageSize) {\n      this.pageSize = pageSize\n      this.reset()\n    },\n\n    reset () {\n      this.onCurrentChange(1)\n    },\n\n    // 切换页面时更新hash路径\n    changePathHash (type = 'push') {\n      // 弹窗不用更新hash\n      if (this.type === 'popup') return\n\n      // 避免重复跳转\n      const query = this.$route.query\n      if (this.pageNum === Number(query.pageNum) && this.pageSize === Number(query.pageSize)) return\n\n      this.$router[type]({\n        path: this.$route.path,\n        query: Object.assign({}, this.$route.query, {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        })\n      })\n    },\n\n    // 表格数据序号\n    dataIndex (index) {\n      return (this.pageNum - 1) * this.pageSize + index + 1\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.pagination-table {\n  &.table-small {\n    ::v-deep .el-link {\n      font-size: 12px;\n    }\n  }\n\n  .pagination-table-pgn {\n    padding: 30px 0;\n    text-align: right;\n\n    .el-pagination {\n      padding: 0;\n      font-weight: normal;\n\n      ::v-deep .el-pagination__sizes {\n        margin-right: -5px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElNewTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElNewTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElNewTable.vue?vue&type=template&id=5bb51c52&scoped=true&\"\nimport script from \"./ElNewTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ElNewTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ElNewTable.vue?vue&type=style&index=0&id=5bb51c52&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bb51c52\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElNewTable.vue?vue&type=style&index=0&id=5bb51c52&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElNewTable.vue?vue&type=style&index=0&id=5bb51c52&lang=scss&scoped=true&\""],"sourceRoot":""}