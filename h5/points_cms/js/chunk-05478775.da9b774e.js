(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05478775"],{3880:function(t,n,o){},a55b:function(t,n,o){"use strict";o.r(n);var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login"},[e("div",{staticClass:"login-container"},[e("img",{staticClass:"logo",attrs:{src:o("cf05"),alt:"广汽丰田logo"}}),e("p",{staticClass:"title"},[t._v("积分服务中心")]),e("p",{staticClass:"tips"},[t._v("*GTMC用户请使用员工号登录，非GTMC用户请使用邮箱登录")]),e("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.rules}},[e("el-form-item",{attrs:{prop:"account"}},[e("el-input",{ref:"account",attrs:{placeholder:"员工号 / 邮箱",clearable:""},model:{value:t.loginForm.account,callback:function(n){t.$set(t.loginForm,"account",n)},expression:"loginForm.account"}})],1),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{attrs:{type:"password",placeholder:"密码",clearable:""},model:{value:t.loginForm.password,callback:function(n){t.$set(t.loginForm,"password",n)},expression:"loginForm.password"}})],1),e("el-form-item",[e("el-button",{staticClass:"login-btn",attrs:{type:"danger",loading:t.isLoggingIn,"native-type":"submit"},on:{click:function(n){return n.preventDefault(),t.onSubmit(n)}}},[t._v(t._s(t.loginBtnText))])],1)],1)],1)])},i=[],s=(o("b0c0"),o("d3b7"),o("5530")),c=o("2f62"),r={name:"Login",data:function(){return{loginForm:{account:"admin",password:"admin"},isLoggingIn:!1,loginBtnText:"登 录",rules:{account:[{required:!0,message:"请输入员工号 / 邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.account.focus()}))},methods:Object(s["a"])({},Object(c["c"])(["setAccountInfo"]),{onSubmit:function(){var t=this;this.$refs.loginForm.validate((function(n){if(!n)return!1;t.onLogin()}))},onLogin:function(){var t=this;this.isLoggingIn=!0,this.loginBtnText="登录中...",this.$http.serviceLogin(this.loginForm).then((function(n){t.saveAccountInfo(n),t.$message.success("登陆成功"),t.$router.push("/deptConsole").catch((function(){}))})).catch((function(n){!n.code&&n.name?Promise.reject(n):t.$alert(n.message,"登录失败",{type:"error"})})).finally((function(){t.isLoggingIn=!1,t.loginBtnText="登 录"}))},saveAccountInfo:function(t){sessionStorage.setItem("accountInfo",JSON.stringify(t)),this.setAccountInfo(t)}})},a=r,l=(o("e5eb"),o("2877")),u=Object(l["a"])(a,e,i,!1,null,"5c179540",null);n["default"]=u.exports},cf05:function(t,n,o){t.exports=o.p+"img/logo.9ad9ae60.png"},e5eb:function(t,n,o){"use strict";var e=o("3880"),i=o.n(e);i.a}}]);
//# sourceMappingURL=chunk-05478775.da9b774e.js.map